
# Variable Usage Documentation

Comprehensive analysis of environment variables and their usage patterns across the Lab Environment Management System.

## ðŸ“š Variable Categories

Variables in the lab environment are organized into several categories:

### Environment Configuration (`cfg/env/`)
- **Site Configuration**: Site-specific settings and parameters
- **Environment Overrides**: Development, testing, and production overrides
- **Node Configuration**: Node-specific infrastructure settings

### Operations Integration (`lib/ops/`)
- **Infrastructure Functions**: Variables used in infrastructure management
- **System Operations**: Variables for system-level operations
- **Service Management**: Variables for service configuration and management

### Deployment Scripts (`src/set/`)
- **Deployment Parameters**: Variables used in deployment automation
- **Setup Configuration**: Variables for environment setup and initialization
- **Runtime Constants**: Variables for runtime behavior control

<!-- AUTO-GENERATED SECTION: DO NOT EDIT MANUALLY -->
<!-- Command: aux_ffl aux_acu "" "$CFG_ENV_DIR" "$LIB_OPS_DIR" "$SRC_SET_DIR" -->

*Auto-updated variable usage documentation with real-time analysis*

> **Last Updated**: 2025-06-04 01:39:46  
> **Generated By**: `utl/doc-var`  
> **Total Variables**: 156 variables analyzed across all configuration files
> **Analysis Command**: `aux_ffl aux_acu "" "$CFG_ENV_DIR" "$LIB_OPS_DIR" "$SRC_SET_DIR"`

This documentation provides a comprehensive overview of variable usage across the lab environment:

### **ðŸ“Š Variable Analysis Overview**

Variables are analyzed across three key directories:
- **Configuration Environment** (`cfg/env/`) - Environment-specific configuration files
- **Operations Libraries** (`lib/ops/`) - Infrastructure and operations function libraries  
- **Deployment Scripts** (`src/set/`) - Deployment and setup automation scripts

### **ðŸ“– Variable Usage Table**

| Variable | Value | Total Usage | lib/ops | src/set | cfg/env |
|----------|-------|-------------|---------|---------|---------|
| DOT_FILE1 | "/root/.bashrc" | 1 | 0 | 0 | 1 |
| DOT_SOURCE1 | ". /root/lab/bin/ini" | 1 | 0 | 0 | 1 |
| GIT_USERNAME | "woeiru" | 2 | 0 | 1 | 1 |
| GIT_USERMAIL | "169383590+woeiru@user... | 2 | 0 | 1 | 1 |
| PACKAGES_DEV | (vim tree ansible) | 2 | 0 | 1 | 1 |
| DEVICE_PATH | "/dev/sda1" | 3 | 0 | 2 | 1 |
| MOUNT_POINT | "/mnt/usb" | 3 | 0 | 2 | 1 |
| SUBFOLDER_PATH | "ssh" | 3 | 0 | 2 | 1 |
| UPLOAD_PATH | "/root/.ssh" | 5 | 0 | 4 | 1 |
| KEY_NAME | "h1" | 2 | 0 | 1 | 1 |
| PUBLIC_KEY | "${KEY_NAME}.pub" | 4 | 0 | 3 | 1 |
| PRIVATE_KEY | "${KEY_NAME}" | 2 | 0 | 1 | 1 |
| SSH_USERS | ( | 5 | 2 | 2 | 1 |
| SSH_TARGET_IP | "192.168.178.100"  # D... | 1 | 0 | 0 | 1 |
| SSH_KEY_COMMENT | "woeiru/lab"     # Com... | 1 | 0 | 0 | 1 |
| SSH_KEY_PATHS | (                  # D... | 2 | 1 | 0 | 1 |
| ARRAY_ALIASES | ( | 5 | 2 | 2 | 1 |
| CL_IPS | ( | 2 | 0 | 1 | 1 |
| HY_IPS | ( | 2 | 1 | 0 | 1 |
| CT_IPS | ( | 2 | 1 | 0 | 1 |
| PBS_PACKAGES_ALL | (proxmox-backup-server) | 2 | 0 | 1 | 1 |
| PBS_DATASTORE_CONFIG | "/etc/proxmox-backup/d... | 2 | 0 | 1 | 1 |
| PBS_DATASTORE_NAME | "pbs-home" | 2 | 0 | 1 | 1 |
| PBS_DATASTORE_PATH | "/home" | 2 | 0 | 1 | 1 |
| PVE_PACKAGES_ALL | (corosync-qdevice) | 2 | 0 | 1 | 1 |
| PVE_CONF_PATH_QEMU | "/etc/pve/qemu-server" | 1 | 0 | 0 | 1 |
| PVE_ADR_FILE | "/etc/apt/sources.list" | 2 | 0 | 1 | 1 |
| PVE_ADR_LINE | "deb http://download.p... | 2 | 0 | 1 | 1 |
| CLUSTER_NODES | ("x1" "x2") | 1 | 0 | 0 | 1 |
| NODE1_IP | "192.168.178.221" | 3 | 0 | 2 | 1 |
| NODE2_IP | "192.168.178.222" | 3 | 0 | 2 | 1 |
| QDEVICE_IP | "192.168.178.223" | 3 | 0 | 2 | 1 |
| x1_NODE_PCI0 | "0000:3b:00.0" | 1 | 0 | 0 | 1 |
| x1_NODE_PCI1 | "0000:3b:00.1" | 1 | 0 | 0 | 1 |
| x1_CORE_COUNT_ON | 12 | 1 | 0 | 0 | 1 |
| x1_CORE_COUNT_OFF | 8 | 1 | 0 | 0 | 1 |
| x2_NODE_PCI0 | "0000:0a:00.0" | 1 | 0 | 0 | 1 |
| x2_NODE_PCI1 | "0000:0a:00.1" | 1 | 0 | 0 | 1 |
| x2_CORE_COUNT_ON | 12 | 1 | 0 | 0 | 1 |
| x2_CORE_COUNT_OFF | 8 | 1 | 0 | 0 | 1 |
| h1_NODE_PCI0 | "0000:0a:00.0" | 1 | 0 | 0 | 1 |
| h1_NODE_PCI1 | "0000:0a:00.1" | 1 | 0 | 0 | 1 |
| h1_CORE_COUNT_ON | 24 | 1 | 0 | 0 | 1 |
| h1_CORE_COUNT_OFF | 8 | 1 | 0 | 0 | 1 |
| w2_NODE_PCI0 | "0000:08:00.0" | 1 | 0 | 0 | 1 |
| w2_NODE_PCI1 | "0000:08:00.1" | 1 | 0 | 0 | 1 |
| w2_CORE_COUNT_ON | 10 | 1 | 0 | 0 | 1 |
| w2_CORE_COUNT_OFF | 8 | 1 | 0 | 0 | 1 |
| x1_NVIDIA_DRIVER_PREFERENCE | "nvidia" | 1 | 0 | 0 | 1 |
| x2_NVIDIA_DRIVER_PREFERENCE | "nouveau" | 1 | 0 | 0 | 1 |
| h1_NVIDIA_DRIVER_PREFERENCE | "nvidia" | 1 | 0 | 0 | 1 |
| w2_NVIDIA_DRIVER_PREFERENCE | "nouveau" | 1 | 0 | 0 | 1 |
| x1_USB_DEVICES | ( | 1 | 0 | 0 | 1 |
| x2_USB_DEVICES | ( | 1 | 0 | 0 | 1 |
| h1_USB_DEVICES | ( | 1 | 0 | 0 | 1 |
| w2_USB_DEVICES | ( | 1 | 0 | 0 | 1 |
| ZFS_POOL_NAME1 | "rpool" | 1 | 0 | 0 | 1 |
| ZFS_DATASET_NAME1 | "pbs" | 1 | 0 | 0 | 1 |
| ZFS_MOUNTPOINT_NAME1 | "/sto/pbs" | 1 | 0 | 0 | 1 |
| ZFS_POOL_NAME2 | "rpool" | 1 | 0 | 0 | 1 |
| ZFS_DATASET_NAME2 | "nfs" | 1 | 0 | 0 | 1 |
| ZFS_MOUNTPOINT_NAME2 | "/sto/nfs" | 1 | 0 | 0 | 1 |
| ZFS_POOL_NAME3 | "rpool" | 1 | 0 | 0 | 1 |
| ZFS_DATASET_NAME3 | "smb" | 1 | 0 | 0 | 1 |
| ZFS_MOUNTPOINT_NAME3 | "/sto/smb" | 1 | 0 | 0 | 1 |
| BTRFS_1_DEVICE_1 | "/dev/nvme0n1" | 2 | 0 | 1 | 1 |
| BTRFS_1_DEVICE_2 | "/dev/nvme2n1" | 2 | 0 | 1 | 1 |
| BTRFS_1_MP_1 | "/sto" | 2 | 0 | 1 | 1 |
| BTRFS_SUB_0 | "/sto" | 1 | 0 | 0 | 1 |
| BTRFS_SUB_1 | "/sto/pbs" | 1 | 0 | 0 | 1 |
| BTRFS_SUB_2 | "/sto/nfs" | 1 | 0 | 0 | 1 |
| BTRFS_SUB_3 | "/sto/smb" | 1 | 0 | 0 | 1 |
| CT_DL_STO | local | 2 | 0 | 1 | 1 |
| CT_DL_1 | "debian-12-standard_12... | 2 | 0 | 1 | 1 |
| CT_ID_1 | 111 | 1 | 0 | 0 | 1 |
| CT_MPH_1 | "/sto/pbs" | 1 | 0 | 0 | 1 |
| CT_MPC_1 | "/home" | 1 | 0 | 0 | 1 |
| CT_ID_2 | 112 | 1 | 0 | 0 | 1 |
| CT_MPH_2 | "/sto/nfs" | 1 | 0 | 0 | 1 |
| CT_MPC_2 | "/home" | 1 | 0 | 0 | 1 |
| CT_ID_3 | 113 | 1 | 0 | 0 | 1 |
| CT_MPH_3 | "/sto/smb" | 1 | 0 | 0 | 1 |
| CT_MPC_3 | "/home" | 1 | 0 | 0 | 1 |
| template | "local:vztmpl/debian-1... | 27 | 22 | 4 | 1 |
| storage | "local-zfs" \ | 22 | 19 | 2 | 1 |
| rootfs_size | 32 \ | 5 | 4 | 0 | 1 |
| memory | 8192 \ | 13 | 12 | 0 | 1 |
| swap | 8192 \ | 7 | 6 | 0 | 1 |
| nameserver | "8.8.8.8" \ | 7 | 6 | 0 | 1 |
| searchdomain | "fritz.box" \ | 6 | 5 | 0 | 1 |
| password | '$(cat /tmp/lab_passwo... | 24 | 23 | 0 | 1 |
| cpus | 8 \ | 5 | 4 | 0 | 1 |
| privileged | "yes" \ | 8 | 7 | 0 | 1 |
| net_nic | "eth0" \ | 5 | 4 | 0 | 1 |
| net_bridge | "vmbr0" \ | 5 | 4 | 0 | 1 |
| cidr | 24 \ | 5 | 4 | 0 | 1 |
| gateway | "192.168.178.1" \ | 7 | 6 | 0 | 1 |
| ssh_key_file | "/root/.ssh/h1.pub" | 8 | 7 | 0 | 1 |
| VM_1_ID | 211 | 1 | 0 | 0 | 1 |
| VM_1_NAME | "fedora-vm" | 1 | 0 | 0 | 1 |
| VM_1_OSTYPE | "l26" | 1 | 0 | 0 | 1 |
| VM_1_MACHINE | "q35" | 1 | 0 | 0 | 1 |
| VM_1_ISO | "local:iso/Fedora-KDE-... | 1 | 0 | 0 | 1 |
| VM_1_BOOT | "order=scsi0" | 1 | 0 | 0 | 1 |
| VM_1_BIOS | "ovmf" | 1 | 0 | 0 | 1 |
| VM_1_EFIDISK | "local-lvm:1,efitype=4... | 1 | 0 | 0 | 1 |
| VM_1_SCSIHW | "virtio-scsi-single" | 1 | 0 | 0 | 1 |
| VM_1_AGENT | "enabled=1" | 1 | 0 | 0 | 1 |
| VM_1_DISK | "local-lvm:96,ssd=1,di... | 1 | 0 | 0 | 1 |
| VM_1_SOCKETS | 1 | 1 | 0 | 0 | 1 |
| VM_1_CORES | 6  # w2 has fewer core... | 1 | 0 | 0 | 1 |
| VM_1_CPU | "host" | 1 | 0 | 0 | 1 |
| VM_1_MEMORY | 8192 | 1 | 0 | 0 | 1 |
| VM_1_BALLOON | 1 | 1 | 0 | 0 | 1 |
| VM_1_NET | "model=virtio,bridge=v... | 1 | 0 | 0 | 1 |
| NFS_USERNAME_1 | "es" | 2 | 0 | 1 | 1 |
| NFS_PASSWORD_1 | $(cat /tmp/lab_passwor... | 2 | 0 | 1 | 1 |
| NFS_PACKAGES_ALL | (nfs-kernel-server) | 2 | 0 | 1 | 1 |
| NFS_SYSD_CHECK | (nfs-server) | 2 | 0 | 1 | 1 |
| NFS_HEADER_1 | "varlibvz" | 2 | 0 | 1 | 1 |
| NFS_SHARED_FOLDER_1 | "/var/lib/vz" | 2 | 0 | 1 | 1 |
| NFS_OPTIONS_1 | "*(rw,sync,no_root_squ... | 2 | 0 | 1 | 1 |
| SMB_USERNAME_0 | "es" | 2 | 0 | 1 | 1 |
| SMB_PASSWORD_0 | $(cat /tmp/lab_passwor... | 2 | 0 | 1 | 1 |
| SMB_PACKAGES_ALL | "samba" | 2 | 0 | 1 | 1 |
| SMB_SYSD_CHECK | "smb" | 2 | 0 | 1 | 1 |
| SMB_HEADER_1 | "es" | 2 | 0 | 1 | 1 |
| SMB_SHARED_FOLDER_1 | "/home/es" | 2 | 0 | 1 | 1 |
| SMB_WRITABLE_YESNO_1 | "yes" | 2 | 0 | 1 | 1 |
| SMB_GUESTOK_YESNO_1 | "yes" | 2 | 0 | 1 | 1 |
| SMB_BROWSABLE_YESNO_1 | "yes" | 2 | 0 | 1 | 1 |
| SMB_USERNAME_1 | "es" | 2 | 0 | 1 | 1 |
| SMB_PASSWORD_1 | $(cat /tmp/lab_passwor... | 2 | 0 | 1 | 1 |
| SMB_CREATE_MASK_1 | "0775" | 2 | 0 | 1 | 1 |
| SMB_DIR_MASK_1 | "0775" | 2 | 0 | 1 | 1 |
| SMB_FORCE_USER_1 | "es" | 2 | 0 | 1 | 1 |
| SMB_FORCE_GROUP_1 | "es" | 2 | 0 | 1 | 1 |
| SMB_HEADER_2 | "nobody" | 2 | 0 | 1 | 1 |
| SMB_SHARED_FOLDER_2 | "/home/nobody" | 2 | 0 | 1 | 1 |
| SMB_WRITABLE_YESNO_2 | "yes" | 2 | 0 | 1 | 1 |
| SMB_GUESTOK_YESNO_2 | "yes" | 2 | 0 | 1 | 1 |
| SMB_BROWSABLE_YESNO_2 | "yes" | 2 | 0 | 1 | 1 |
| SMB_USERNAME_2 | "nobody" | 2 | 0 | 1 | 1 |
| SMB_PASSWORD_2 | $(cat /tmp/lab_passwor... | 2 | 0 | 1 | 1 |
| SMB_CREATE_MASK_2 | "0775" | 2 | 0 | 1 | 1 |
| SMB_DIR_MASK_2 | "0775" | 2 | 0 | 1 | 1 |
| SMB_FORCE_USER_2 | "nobody" | 2 | 0 | 1 | 1 |
| SMB_FORCE_GROUP_2 | "nogroup" | 2 | 0 | 1 | 1 |
| STO_NFS_SERVER_IP | "192.168.178.112" | 2 | 0 | 1 | 1 |
| STO_NFS_SHARED_FOLDER | "/var/lib/vz" | 2 | 0 | 1 | 1 |
| STO_NFS_MOUNT_POINT | "/mnt/nfs_share" | 2 | 0 | 1 | 1 |
| STO_NFS_MOUNT_OPTIONS | "rw,sync,hard,intr" | 2 | 0 | 1 | 1 |
| CT_1_MEMORY | 2048 | 1 | 0 | 0 | 1 |
| CT_2_MEMORY | 2048 | 1 | 0 | 0 | 1 |
| CT_3_MEMORY | 2048 | 1 | 0 | 0 | 1 |
| CT_1_CPUS | 2 | 1 | 0 | 0 | 1 |
| CT_2_CPUS | 2 | 1 | 0 | 0 | 1 |
| CT_3_CPUS | 2 | 1 | 0 | 0 | 1 |
| CT_1_PASSWORD | devpass | 1 | 0 | 0 | 1 |
| CT_2_PASSWORD | devpass | 1 | 0 | 0 | 1 |
| CT_3_PASSWORD | devpass | 1 | 0 | 0 | 1 |
| CT_1_PRIVILEGED | no | 1 | 0 | 0 | 1 |
| CT_2_PRIVILEGED | no | 1 | 0 | 0 | 1 |
| CT_3_PRIVILEGED | no | 1 | 0 | 0 | 1 |
| CT_1_IP_ADDRESS | 192.168.178.121 | 1 | 0 | 0 | 1 |
| CT_2_IP_ADDRESS | 192.168.178.122 | 1 | 0 | 0 | 1 |
| CT_3_IP_ADDRESS | 192.168.178.123 | 1 | 0 | 0 | 1 |
| CT_1_SSH_KEY_FILE | /root/.ssh/w2.pub | 1 | 0 | 0 | 1 |
| CT_2_SSH_KEY_FILE | /root/.ssh/w2.pub | 1 | 0 | 0 | 1 |
| CT_3_SSH_KEY_FILE | /root/.ssh/w2.pub | 1 | 0 | 0 | 1 |

<!-- END AUTO-GENERATED SECTION -->

## ðŸ”§ Variable Analysis Tools

- **[`utl/doc-var`](../utl/doc-var)** - Updates this variable usage documentation automatically using `aux_acu`
- **[`lib/gen/aux` (aux_acu)](../lib/gen/aux)** - Variable usage analysis function with JSON output support
- **[`utl/doc-func`](../utl/doc-func)** - Function metadata table generator
- **[`utl/doc-index`](../utl/doc-index)** - Documentation index generator

```bash
# Update variable usage documentation
./utl/doc-var

# Analyze variable usage manually
aux_acu "" cfg/env lib/ops src/set

# Generate variable analysis as JSON
aux_acu -j "" cfg/env lib/ops src/set

# View specific variable usage patterns
aux_acu -a cfg/env lib/ops src/set  # Alphabetical order
```

## ðŸ“– Related Documentation

- **[Functions Reference](functions.md)** - Pure function documentation and metadata
- **[System Architecture](architecture.md)** - Complete system design and variable flow
- **[Configuration Guide](../adm/configuration.md)** - Configuration file formats and variable definitions
