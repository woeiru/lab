<!-- 
    This documentation provides comprehensive analysis of variable usage across the lab environment.
    Variables are analyzed from configuration files and their usage patterns across different modules.
    
    The analysis covers:
    - cfg/env/  : Environment-specific configuration files
    - lib/ops/  : Operations function libraries
    - src/set/  : Deployment and setup automation scripts
-->

# Variable Usage Documentation

Comprehensive analysis of environment variables and their usage patterns across the Lab Environment Management System.

## ðŸ“š Variable Categories

Variables in the lab environment are organized into several categories:

### Environment Configuration (`cfg/env/`)
- **Site Configuration**: Site-specific settings and parameters
- **Environment Overrides**: Development, testing, and production overrides
- **Node Configuration**: Node-specific infrastructure settings

### Operations Integration (`lib/ops/`)
- **Infrastructure Functions**: Variables used in infrastructure management
- **System Operations**: Variables for system-level operations
- **Service Management**: Variables for service configuration and management

### Deployment Scripts (`src/set/`)
- **Deployment Parameters**: Variables used in deployment automation
- **Setup Configuration**: Variables for environment setup and initialization
- **Runtime Constants**: Variables for runtime behavior control

<!-- AUTO-GENERATED SECTION: DO NOT EDIT MANUALLY -->
<!-- Command: aux-ffl aux-acu "" "$CFG_ENV_DIR" "$LIB_OPS_DIR" "$SRC_SET_DIR" -->

*Auto-updated variable usage documentation with real-time analysis*

> **Last Updated**: 2025-06-01 20:01:33  
> **Generated By**: `utl/doc-var`  
> **Total Variables**: 171 variables analyzed across all configuration files
> **Analysis Command**: `aux-ffl aux-acu "" "$CFG_ENV_DIR" "$LIB_OPS_DIR" "$SRC_SET_DIR"`

This documentation provides a comprehensive overview of variable usage across the lab environment:

### **ðŸ“Š Variable Analysis Overview**

Variables are analyzed across three key directories:
- **Configuration Environment** (`cfg/env/`) - Environment-specific configuration files
- **Operations Libraries** (`lib/ops/`) - Infrastructure and operations function libraries  
- **Deployment Scripts** (`src/set/`) - Deployment and setup automation scripts

### **ðŸ“– Variable Usage Table**

| Variable | Value | Total Usage | lib/ops | src/set | cfg/env |
|----------|-------|-------------|---------|---------|---------|
| DOT_FILE1 | \ | 0 | 0 | 0 | 0 |
| DOT_SOURCE1 | \ | 0 | 0 | 0 | 0 |
| GIT_USERNAME | \ | 1 | 0 | 1 | 0 |
| GIT_USERMAIL | \ | 1 | 0 | 1 | 0 |
| PACKAGES_DEV | (vim tree ansible) | 1 | 0 | 1 | 0 |
| DEVICE_PATH | \ | 2 | 0 | 2 | 0 |
| MOUNT_POINT | \ | 2 | 0 | 2 | 0 |
| SUBFOLDER_PATH | \ | 2 | 0 | 2 | 0 |
| UPLOAD_PATH | \ | 4 | 0 | 4 | 0 |
| KEY_NAME | \ | 1 | 0 | 1 | 0 |
| PUBLIC_KEY | \ | 3 | 0 | 3 | 0 |
| PRIVATE_KEY | \ | 1 | 0 | 1 | 0 |
| SSH_USERS | ( | 2 | 0 | 2 | 0 |
| SSH_TARGET_IP | \ | 0 | 0 | 0 | 0 |
| SSH_KEY_COMMENT | \ | 0 | 0 | 0 | 0 |
| SSH_KEY_PATHS | (                  # D... | 1 | 1 | 0 | 0 |
| ARRAY_ALIASES | ( | 2 | 0 | 2 | 0 |
| CL_IPS | ( | 1 | 0 | 1 | 0 |
| HY_IPS | ( | 0 | 0 | 0 | 0 |
| CT_IPS | ( | 0 | 0 | 0 | 0 |
| PBS_PACKAGES_ALL | (proxmox-backup-server) | 1 | 0 | 1 | 0 |
| PBS_DATASTORE_CONFIG | \ | 1 | 0 | 1 | 0 |
| PBS_DATASTORE_NAME | \ | 1 | 0 | 1 | 0 |
| PBS_DATASTORE_PATH | \ | 1 | 0 | 1 | 0 |
| PVE_PACKAGES_ALL | (corosync-qdevice) | 1 | 0 | 1 | 0 |
| PVE_CONF_PATH_QEMU | \ | 0 | 0 | 0 | 0 |
| PVE_ADR_FILE | \ | 1 | 0 | 1 | 0 |
| PVE_ADR_LINE | \ | 1 | 0 | 1 | 0 |
| CLUSTER_NODES | (\ | 0 | 0 | 0 | 0 |
| NODE1_IP | \ | 2 | 0 | 2 | 0 |
| NODE2_IP | \ | 2 | 0 | 2 | 0 |
| QDEVICE_IP | \ | 2 | 0 | 2 | 0 |
| x1_NODE_PCI0 | \ | 0 | 0 | 0 | 0 |
| x1_NODE_PCI1 | \ | 0 | 0 | 0 | 0 |
| x1_CORE_COUNT_ON | 12 | 0 | 0 | 0 | 0 |
| x1_CORE_COUNT_OFF | 8 | 0 | 0 | 0 | 0 |
| x2_NODE_PCI0 | \ | 0 | 0 | 0 | 0 |
| x2_NODE_PCI1 | \ | 0 | 0 | 0 | 0 |
| x2_CORE_COUNT_ON | 12 | 0 | 0 | 0 | 0 |
| x2_CORE_COUNT_OFF | 8 | 0 | 0 | 0 | 0 |
| h1_NODE_PCI0 | \ | 0 | 0 | 0 | 0 |
| h1_NODE_PCI1 | \ | 0 | 0 | 0 | 0 |
| h1_CORE_COUNT_ON | 24 | 0 | 0 | 0 | 0 |
| h1_CORE_COUNT_OFF | 8 | 0 | 0 | 0 | 0 |
| w2_NODE_PCI0 | \ | 0 | 0 | 0 | 0 |
| w2_NODE_PCI1 | \ | 0 | 0 | 0 | 0 |
| w2_CORE_COUNT_ON | 10 | 0 | 0 | 0 | 0 |
| w2_CORE_COUNT_OFF | 8 | 0 | 0 | 0 | 0 |
| x1_NVIDIA_DRIVER_PREFERENCE | \ | 0 | 0 | 0 | 0 |
| x2_NVIDIA_DRIVER_PREFERENCE | \ | 0 | 0 | 0 | 0 |
| h1_NVIDIA_DRIVER_PREFERENCE | \ | 0 | 0 | 0 | 0 |
| w2_NVIDIA_DRIVER_PREFERENCE | \ | 0 | 0 | 0 | 0 |
| x1_USB_DEVICES | ( | 0 | 0 | 0 | 0 |
| x2_USB_DEVICES | ( | 0 | 0 | 0 | 0 |
| h1_USB_DEVICES | ( | 0 | 0 | 0 | 0 |
| w2_USB_DEVICES | ( | 0 | 0 | 0 | 0 |
| ZFS_POOL_NAME1 | \ | 0 | 0 | 0 | 0 |
| ZFS_DATASET_NAME1 | \ | 0 | 0 | 0 | 0 |
| ZFS_MOUNTPOINT_NAME1 | \ | 0 | 0 | 0 | 0 |
| ZFS_POOL_NAME2 | \ | 0 | 0 | 0 | 0 |
| ZFS_DATASET_NAME2 | \ | 0 | 0 | 0 | 0 |
| ZFS_MOUNTPOINT_NAME2 | \ | 0 | 0 | 0 | 0 |
| ZFS_POOL_NAME3 | \ | 0 | 0 | 0 | 0 |
| ZFS_DATASET_NAME3 | \ | 0 | 0 | 0 | 0 |
| ZFS_MOUNTPOINT_NAME3 | \ | 0 | 0 | 0 | 0 |
| BTRFS_1_DEVICE_1 | \ | 1 | 0 | 1 | 0 |
| BTRFS_1_DEVICE_2 | \ | 1 | 0 | 1 | 0 |
| BTRFS_1_MP_1 | \ | 1 | 0 | 1 | 0 |
| BTRFS_SUB_0 | \ | 0 | 0 | 0 | 0 |
| BTRFS_SUB_1 | \ | 0 | 0 | 0 | 0 |
| BTRFS_SUB_2 | \ | 0 | 0 | 0 | 0 |
| BTRFS_SUB_3 | \ | 0 | 0 | 0 | 0 |
| CT_DL_STO | local | 1 | 0 | 1 | 0 |
| CT_DL_1 | \ | 1 | 0 | 1 | 0 |
| CT_ID_1 | 111 | 0 | 0 | 0 | 0 |
| CT_MPH_1 | \ | 0 | 0 | 0 | 0 |
| CT_MPC_1 | \ | 0 | 0 | 0 | 0 |
| CT_ID_2 | 112 | 0 | 0 | 0 | 0 |
| CT_MPH_2 | \ | 0 | 0 | 0 | 0 |
| CT_MPC_2 | \ | 0 | 0 | 0 | 0 |
| CT_ID_3 | 113 | 0 | 0 | 0 | 0 |
| CT_MPH_3 | \ | 0 | 0 | 0 | 0 |
| CT_MPC_3 | \ | 0 | 0 | 0 | 0 |
| template | \ | 28 | 24 | 4 | 0 |
| storage | \ | 17 | 15 | 2 | 0 |
| rootfs_size | 32 \ | 4 | 4 | 0 | 0 |
| memory | 8192 \ | 12 | 12 | 0 | 0 |
| swap | 8192 \ | 6 | 6 | 0 | 0 |
| nameserver | \ | 6 | 6 | 0 | 0 |
| searchdomain | \ | 5 | 5 | 0 | 0 |
| password | '$(cat /tmp/lab_passwo... | 19 | 19 | 0 | 0 |
| cpus | 8 \ | 4 | 4 | 0 | 0 |
| privileged | \ | 5 | 5 | 0 | 0 |
| net_nic | \ | 4 | 4 | 0 | 0 |
| net_bridge | \ | 4 | 4 | 0 | 0 |
| cidr | 24 \ | 4 | 4 | 0 | 0 |
| gateway | \ | 6 | 6 | 0 | 0 |
| ssh_key_file | \ | 7 | 7 | 0 | 0 |
| VM_1_ID | 211 | 0 | 0 | 0 | 0 |
| VM_1_NAME | \ | 0 | 0 | 0 | 0 |
| VM_1_OSTYPE | \ | 0 | 0 | 0 | 0 |
| VM_1_MACHINE | \ | 0 | 0 | 0 | 0 |
| VM_1_ISO | \ | 0 | 0 | 0 | 0 |
| VM_1_BOOT | \ | 0 | 0 | 0 | 0 |
| VM_1_BIOS | \ | 0 | 0 | 0 | 0 |
| VM_1_EFIDISK | \ | 0 | 0 | 0 | 0 |
| VM_1_SCSIHW | \ | 0 | 0 | 0 | 0 |
| VM_1_AGENT | \ | 0 | 0 | 0 | 0 |
| VM_1_DISK | \ | 0 | 0 | 0 | 0 |
| VM_1_SOCKETS | 1 | 0 | 0 | 0 | 0 |
| VM_1_CORES | 6  # w2 has fewer core... | 0 | 0 | 0 | 0 |
| VM_1_CPU | \ | 0 | 0 | 0 | 0 |
| VM_1_MEMORY | 8192 | 0 | 0 | 0 | 0 |
| VM_1_BALLOON | 1 | 0 | 0 | 0 | 0 |
| VM_1_NET | \ | 0 | 0 | 0 | 0 |
| NFS_USERNAME_1 | \ | 1 | 0 | 1 | 0 |
| NFS_PASSWORD_1 | $(cat /tmp/lab_passwor... | 1 | 0 | 1 | 0 |
| NFS_PACKAGES_ALL | (nfs-kernel-server) | 1 | 0 | 1 | 0 |
| NFS_SYSD_CHECK | (nfs-server) | 1 | 0 | 1 | 0 |
| NFS_HEADER_1 | \ | 1 | 0 | 1 | 0 |
| NFS_SHARED_FOLDER_1 | \ | 1 | 0 | 1 | 0 |
| NFS_OPTIONS_1 | \ | 1 | 0 | 1 | 0 |
| SMB_USERNAME_0 | \ | 1 | 0 | 1 | 0 |
| SMB_PASSWORD_0 | $(cat /tmp/lab_passwor... | 1 | 0 | 1 | 0 |
| SMB_PACKAGES_ALL | \ | 1 | 0 | 1 | 0 |
| SMB_SYSD_CHECK | \ | 1 | 0 | 1 | 0 |
| SMB_HEADER_1 | \ | 1 | 0 | 1 | 0 |
| SMB_SHARED_FOLDER_1 | \ | 1 | 0 | 1 | 0 |
| SMB_WRITABLE_YESNO_1 | \ | 1 | 0 | 1 | 0 |
| SMB_GUESTOK_YESNO_1 | \ | 1 | 0 | 1 | 0 |
| SMB_BROWSABLE_YESNO_1 | \ | 1 | 0 | 1 | 0 |
| SMB_USERNAME_1 | \ | 1 | 0 | 1 | 0 |
| SMB_PASSWORD_1 | $(cat /tmp/lab_passwor... | 1 | 0 | 1 | 0 |
| SMB_CREATE_MASK_1 | \ | 1 | 0 | 1 | 0 |
| SMB_DIR_MASK_1 | \ | 1 | 0 | 1 | 0 |
| SMB_FORCE_USER_1 | \ | 1 | 0 | 1 | 0 |
| SMB_FORCE_GROUP_1 | \ | 1 | 0 | 1 | 0 |
| SMB_HEADER_2 | \ | 1 | 0 | 1 | 0 |
| SMB_SHARED_FOLDER_2 | \ | 1 | 0 | 1 | 0 |
| SMB_WRITABLE_YESNO_2 | \ | 1 | 0 | 1 | 0 |
| SMB_GUESTOK_YESNO_2 | \ | 1 | 0 | 1 | 0 |
| SMB_BROWSABLE_YESNO_2 | \ | 1 | 0 | 1 | 0 |
| SMB_USERNAME_2 | \ | 1 | 0 | 1 | 0 |
| SMB_PASSWORD_2 | $(cat /tmp/lab_passwor... | 1 | 0 | 1 | 0 |
| SMB_CREATE_MASK_2 | \ | 1 | 0 | 1 | 0 |
| SMB_DIR_MASK_2 | \ | 1 | 0 | 1 | 0 |
| SMB_FORCE_USER_2 | \ | 1 | 0 | 1 | 0 |
| SMB_FORCE_GROUP_2 | \ | 1 | 0 | 1 | 0 |
| STO_NFS_SERVER_IP | \ | 1 | 0 | 1 | 0 |
| STO_NFS_SHARED_FOLDER | \ | 1 | 0 | 1 | 0 |
| STO_NFS_MOUNT_POINT | \ | 1 | 0 | 1 | 0 |
| STO_NFS_MOUNT_OPTIONS | \ | 1 | 0 | 1 | 0 |
| CT_1_MEMORY | 2048 | 0 | 0 | 0 | 0 |
| CT_2_MEMORY | 2048 | 0 | 0 | 0 | 0 |
| CT_3_MEMORY | 2048 | 0 | 0 | 0 | 0 |
| CT_1_CPUS | 2 | 0 | 0 | 0 | 0 |
| CT_2_CPUS | 2 | 0 | 0 | 0 | 0 |
| CT_3_CPUS | 2 | 0 | 0 | 0 | 0 |
| CT_1_PASSWORD | devpass | 0 | 0 | 0 | 0 |
| CT_2_PASSWORD | devpass | 0 | 0 | 0 | 0 |
| CT_3_PASSWORD | devpass | 0 | 0 | 0 | 0 |
| CT_1_PRIVILEGED | no | 0 | 0 | 0 | 0 |
| CT_2_PRIVILEGED | no | 0 | 0 | 0 | 0 |
| CT_3_PRIVILEGED | no | 0 | 0 | 0 | 0 |
| CT_1_IP_ADDRESS | 192.168.178.121 | 0 | 0 | 0 | 0 |
| CT_2_IP_ADDRESS | 192.168.178.122 | 0 | 0 | 0 | 0 |
| CT_3_IP_ADDRESS | 192.168.178.123 | 0 | 0 | 0 | 0 |
| CT_1_SSH_KEY_FILE | /root/.ssh/w2.pub | 0 | 0 | 0 | 0 |
| CT_2_SSH_KEY_FILE | /root/.ssh/w2.pub | 0 | 0 | 0 | 0 |
| CT_3_SSH_KEY_FILE | /root/.ssh/w2.pub | 0 | 0 | 0 | 0 |
| VM_1_CORES | 6  # w2 has fewer core... | 0 | 0 | 0 | 0 |

<!-- END AUTO-GENERATED SECTION -->

## ðŸ”§ Variable Analysis Tools

- **[`utl/doc-var`](../utl/doc-var)** - Updates this variable usage documentation automatically using `aux-acu`
- **[`lib/gen/aux` (aux-acu)](../lib/gen/aux)** - Variable usage analysis function with JSON output support
- **[`utl/doc-func`](../utl/doc-func)** - Function metadata table generator
- **[`utl/doc-index`](../utl/doc-index)** - Documentation index generator

```bash
# Update variable usage documentation
./utl/doc-var

# Analyze variable usage manually
aux-acu "" cfg/env lib/ops src/set

# Generate variable analysis as JSON
aux-acu -j "" cfg/env lib/ops src/set

# View specific variable usage patterns
aux-acu -a cfg/env lib/ops src/set  # Alphabetical order
```

## ðŸ“– Related Documentation

- **[Functions Reference](functions.md)** - Pure function documentation and metadata
- **[System Architecture](architecture.md)** - Complete system design and variable flow
- **[Configuration Guide](../adm/configuration.md)** - Configuration file formats and variable definitions
