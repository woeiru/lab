-----------------
Target file: /root/lab/lib/all.bash
-----------------
Item: all-fun
Old: show an overview of specific functions
New: Shows a summary of selected functions in the script, displaying their usage, shortname, and description
---
Item: all-laf
Old: cats the three lines above each function as usage,shortname,description
New: Lists all functions in a file, displaying their usage, shortname, and description. Supports truncation and line break options for better readability
---
Item: all-var
Old: show an overview of specific variables
New: Displays an overview of specific variables defined in the configuration file, showing their names, values, and usage across different files
---
Item: all-acu
Old: Counts the var occurrences from a config file in a target folder
New: Analyzes the usage of variables from a config file across a target folder, displaying variable names, values, and occurrence counts in various files
---
Item: all-ffl
Old: Recursively processes files in a directory with an function
New: Recursively processes files in a directory and its subdirectories using a specified function, allowing for additional arguments to be passed
---
Item: all-flc
Old: cats the source code of a function inside the lib folder
New: Displays the source code of a specified function from the library folder, including its description, shortname, and usage
---
Item: all-gio
Old: Manages git operations, ensuring local repository syncs with remote.
New: Manages git operations, ensuring the local repository syncs with the remote. Performs status check, pull, commit, and push operations as needed
---
Item: all-fea
Old: Adds auto-mount entries for devices to /etc/fstab using blkid.
New: Adds auto-mount entries for devices to /etc/fstab using blkid. Allows user to select a device UUID and automatically creates the appropriate fstab entry
---
Item: all-fec
Old: Adds custom entries to /etc/fstab using device UUIDs.
New: Adds custom entries to /etc/fstab using device UUIDs. Allows user to specify mount point, filesystem, mount options, and other parameters
---
Item: all-vsf
Old: Prompts the user to select a file from the current directory.
New: Prompts the user to select a file from the current directory by displaying a numbered list of files and returning the chosen filename
---
Item: all-cff
Old: Counts files in directories based on specified visibility.
New: Counts files in directories based on specified visibility (regular, hidden, or both). Displays results sorted by directory name
---
Item: all-zdb
Old: Sends ZFS snapshots from a source pool to a destination pool.
New: Creates and sends ZFS snapshots from a source pool to a destination pool. Supports initial full sends and incremental sends for efficiency
---
Item: all-duc
Old: Compares data usage between two paths up to a specified depth.
New: Compares data usage between two paths up to a specified depth. Displays results in a tabular format with color-coded differences
---
Item: all-mev
Old: Prompts the user to input or confirm a variable's value.
New: Prompts the user to input or confirm a variable's value, allowing for easy customization of script parameters
---
Item: all-nos
Old: Logs a function's execution status with a timestamp.
New: Logs a function's execution status with a timestamp, providing a simple way to track script progress and debugging information
---
Item: all-cap
Old: Appends a line to a file if it does not already exist.
New: Appends a line to a file if it does not already exist, preventing duplicate entries and providing feedback on the operation
---
Item: all-ipa
Old: Installs specified packages using a package manager.
New: Installs specified packages using the system's package manager (apt, dnf, yum, or zypper). Performs update, upgrade, and installation operations
---
Item: all-gst
Old: Configures git with a specified username and email
New: Configures git globally with a specified username and email, essential for proper commit attribution
---
Item: all-sst
Old: Installs, enables, and starts the sysstat service.
New: Installs, enables, and starts the sysstat service for system performance monitoring. Modifies the configuration to ensure it's enabled
---
Item: all-fas
Old: Allows a specified service through the firewall.
New: Allows a specified service through the firewall using firewall-cmd, making the change permanent and reloading the firewall configuration
---
Item: all-ust
Old: Creates a user with a specified username and password.
New: Creates a new user with a specified username and password, prompting for input if not provided. Verifies successful user creation
---
Item: all-sdc
Old: Enables and starts a specified systemd service.
New: Enables and starts a specified systemd service. Checks if the service is active and prompts for continuation if it's not
---
Item: all-rsf
Old: Replaces strings in files within a specified folder, optionally staged by git.
New: Replaces strings in files within a specified folder and its subfolders. If in a git repository, it stages changes and shows the diff
---
Item: all-rnf
Old: renames all files in folder and in nested folders too
New: Renames all files containing a specified string in their names, within a given folder and its subfolders
---
Item: all-use
Old: get function arguments
New: Displays the usage information, shortname, and description of the calling function, helping users understand how to use it
---
Item: all-rsd
Old: rysnc source destination
New: Performs an rsync operation from a source to a destination path. Displays files to be transferred and prompts for confirmation before proceeding
---
Item: all-cif
Old: cats all files inside a particular folder
New: Concatenates and displays the contents of all files within a specified folder, separating each file's content with a line of dashes
---
Item: all-fsr
Old: firewalld (add) service (and) reload
New: Adds a specified service to the firewalld configuration and reloads the firewall. Checks for the presence of firewall-cmd before proceeding
---
Item: all-usk
Old: This function uploads an SSH key from a device plugged in, into the /root/.ssh folder.
New: Uploads an SSH key from a plugged-in device to a specified folder (default: /root/.ssh). Handles mounting, file copying, and unmounting of the device
---
Item: all-spi
Old: append a private SSH key identifier to a config inside .ssh
New: Appends a private SSH key identifier to the SSH config file for a specified user. Creates the .ssh directory and config file if they don't exist
---
Item: all-aak
Old: append a public SSH key content to authorized_keys
New: Appends the content of a specified public SSH key file to the authorized_keys file. Prompts for confirmation and restarts the SSH service
---
Item: all-loi
Old: Loop a specified operation through an specific range of ips
New: Loops a specified SSH operation (bypass StrictHostKeyChecking or refresh known_hosts) through a range of IPs defined in the configuration
---
Item: all-sca
Old: Resolves custom ssh aliases with the help of all.conf
New: Resolves custom SSH aliases using the configuration file. Supports connecting to single or multiple servers, executing commands remotely
---
Item: all-swt
Old: rctwake wrapper
New: Schedules a system wake-up using rtcwake. Supports absolute or relative time input, different sleep states (mem/disk), and logs operations
---
-----------------
2024-09-15 16:13:16 - Replacement process completed.
-----------------
-----------------
Target file: /root/lab/lib/nfs.bash
-----------------
Item: nfs-fun
Old: show an overview of specific functions
New: Displays an overview of specific NFS-related functions in the script, showing their usage, shortname, and description
---
Item: nfs-var
Old: show an overview of specific variables
New: Displays an overview of NFS-specific variables defined in the configuration file, showing their names, values, and usage across different files
---
Item: nfs-set
Old: Unified function to set up NFS
New: Sets up an NFS share by prompting for necessary information (NFS header, shared folder, and options) and applying the configuration
---
Item: nfs-apl
Old: Helper script for NFS setup.
New: Applies NFS configuration by creating the shared folder if needed, updating /etc/exports, and restarting the NFS server
---
-----------------
2024-09-15 16:25:58 - Replacement process completed.
-----------------
-----------------
Target file: /root/lab/lib/osm.bash
-----------------
Item: osm-fun
Old: show an overview of specific functions
New: Displays an overview of specific OSM-related functions in the script, showing their usage, shortname, and description
---
Item: osm-var
Old: show an overview of specific variables
New: Displays an overview of OSM-specific variables defined in the configuration file, showing their names, values, and usage across different files
---
Item: osm-tra
Old: Transform a folder subvolume.
New: Transforms a folder into a Btrfs subvolume, optionally setting attributes (e.g., disabling COW). Handles multiple folders, preserving content and ownership.
---
Item: osm-csf
Old: Check subvolume folder and filter results.
New: Checks and lists subvolume status of folders in a specified path. Supports filtering by folder type (regular, hidden, or both) and subvolume status.
---
Item: osm-shc
Old: snapper -c home_* create
New: Creates a new Snapper snapshot for the specified configuration or automatically selects a 'home_*' configuration if multiple exist
---
Item: osm-shd
Old: snapper -c home_* delete <snapshot>
New: Deletes a specified Snapper snapshot from a given configuration or automatically selects a 'home_*' configuration if multiple exist
---
Item: osm-shl
Old: snapper -c home_* list
New: Lists Snapper snapshots for the specified configuration or automatically selects a 'home_*' configuration if multiple exist
---
Item: osm-sfr
Old: Resyncing a Btrfs snapshot to a flat folder
New: Resyncs a Btrfs snapshot subvolume to a flat folder using rsync, excluding specific directories (.snapshots and .ssh) and preserving attributes
---
Item: osm-hub
Old: creating a subvol on bak then sending snapshots there
New: Creates a backup subvolume for a user's home directory on a backup drive, then sends and receives Btrfs snapshots incrementally, managing full and incremental backups
---
Item: osm-snd
Old: delete a parent subvolume with all it nested childs
New: Recursively deletes a Btrfs parent subvolume and all its nested child subvolumes, with options for interactive mode and forced deletion
---
-----------------
2024-09-15 16:30:05 - Replacement process completed.
-----------------
-----------------
Target file: /root/lab/lib/osm.bash.bash
-----------------
Item: pbs-fun
Old: show an overview of specific functions
New: Displays an overview of specific Proxmox Backup Server (PBS) related functions in the script, showing their usage, shortname, and description
---
Item: pbs-var
Old: show an overview of specific variables
New: Displays an overview of PBS-specific variables defined in the configuration file, showing their names, values, and usage across different files
---
Item: pbs-sgp
Old: Download Proxmox GPG key and verify checksums.
New: Downloads the Proxmox GPG key for Debian Bookworm, saves it to the trusted.gpg.d directory, and verifies both SHA512 and MD5 checksums for security
---
Item: pbs-adr
Old: Add Proxmox repository to sources.list if not already present.
New: Adds the Proxmox Backup Server repository to /etc/apt/sources.list if not already present, enabling access to PBS packages without a subscription
---
Item: pbs-puu
Old: Update package lists and upgrade packages.
New: Updates package lists and upgrades all installed packages on the system, ensuring PBS and other software are up to date
---
Item: pbs-rda
Old: Restore datastore configuration file with given parameters.
New: Restores or creates a Proxmox Backup Server datastore configuration file (/etc/proxmox-backup/datastore.cfg) with specified datastore name and path
---
-----------------
2024-09-15 17:01:04 - Replacement process completed.
-----------------
-----------------
Target file: /root/lab/lib/osm.bash
-----------------
Item: pbs-fun
Old: show an overview of specific functions
New: Displays an overview of specific Proxmox Backup Server (PBS) related functions in the script, showing their usage, shortname, and description
---
Item: pbs-var
Old: show an overview of specific variables
New: Displays an overview of PBS-specific variables defined in the configuration file, showing their names, values, and usage across different files
---
Item: pbs-sgp
Old: Download Proxmox GPG key and verify checksums.
New: Downloads the Proxmox GPG key for Debian Bookworm, saves it to the trusted.gpg.d directory, and verifies both SHA512 and MD5 checksums for security
---
Item: pbs-adr
Old: Add Proxmox repository to sources.list if not already present.
New: Adds the Proxmox Backup Server repository to /etc/apt/sources.list if not already present, enabling access to PBS packages without a subscription
---
Item: pbs-puu
Old: Update package lists and upgrade packages.
New: Updates package lists and upgrades all installed packages on the system, ensuring PBS and other software are up to date
---
Item: pbs-rda
Old: Restore datastore configuration file with given parameters.
New: Restores or creates a Proxmox Backup Server datastore configuration file (/etc/proxmox-backup/datastore.cfg) with specified datastore name and path
---
-----------------
2024-09-15 17:01:23 - Replacement process completed.
-----------------
-----------------
Target file: /root/lab/lib/pve.bash
-----------------
Item: pve-fun
Old: show an overview of specific functions
New: Displays an overview of specific Proxmox Virtual Environment (PVE) related functions in the script, showing their usage, shortname, and description
---
Item: pve-var
Old: show an overview of specific variables
New: Displays an overview of PVE-specific variables defined in the configuration file, showing their names, values, and usage across different files
---
Item: vm
Old: vm start or vm-get then shutdown other node
New: Starts a VM on the current node or migrates it from another node, with an option to shut down the source node after migration
---
Item: vm-get
Old: remote vm-pth, migration, local vm-pth
New: Migrates a VM from a remote node to the current node, handling PCIe passthrough disable/enable during the process
---
Item: vm-pth
Old: toggle Passthrough lines ON or OFF
New: Toggles PCIe passthrough configuration for a specified VM, modifying its configuration file to enable or disable passthrough devices
---
Item: vm-chk
Old: check where VM exists
New: Checks and reports which node in the Proxmox cluster is currently hosting a specified VM
---
Item: pve-uni
Old: Prompts user to rename a network interface by editing udev rules and updating network configuration.
New: Guides the user through renaming a network interface by updating udev rules and network configuration, with an option to reboot the system
---
Item: pve-sbn
Old: Displays the contents of .notes files in a specified or current directory.
New: Displays the contents of all .notes files found in a specified directory or the current directory, useful for viewing backup notes
---
Item: pve-dsr
Old: Disables specified repository files by commenting out 'deb' lines.
New: Disables specified Proxmox repository files by commenting out 'deb' lines, typically used to manage repository sources
---
Item: pve-adr
Old: Adds a specific Proxmox repository line to /etc/apt/sources.list if not already present.
New: Adds a specific Proxmox VE no-subscription repository line to /etc/apt/sources.list if not already present
---
Item: pve-puu
Old: Updates and upgrades system packages.
New: Updates package lists and upgrades all installed packages on the Proxmox system
---
Item: pve-rsn
Old: Removes the Proxmox subscription notice and optionally restarts the pveproxy service.
New: Removes the Proxmox subscription notice by modifying the web interface JavaScript file, with an option to restart the pveproxy service
---
Item: pve-gp1
Old: Configures initial settings for GPU passthrough and reboots the system.
New: Configures initial GRUB and EFI settings for GPU passthrough, installs necessary packages, and reboots the system
---
Item: pve-gp2
Old: Adds necessary modules for GPU passthrough and reboots the system.
New: Adds necessary kernel modules for GPU passthrough to /etc/modules, updates initramfs, and reboots the system
---
Item: pve-gp3
Old: Completes GPU passthrough setup by configuring vfio-pci IDs, blacklisting GPU drivers, and rebooting the system.
New: Finalizes GPU passthrough setup by configuring VFIO-PCI IDs, blacklisting specific GPU drivers, and rebooting the system
---
Item: pve-br1
Old: Sets up a Btrfs RAID 1 filesystem on two devices and optionally adds the mount point to /etc/fstab.
New: Creates a Btrfs RAID 1 filesystem on two specified devices, mounts it, and optionally adds an entry to /etc/fstab
---
Item: pve-zdm
Old: Creates and mounts a ZFS dataset at a specified mount point.
New: Creates a new ZFS dataset or uses an existing one, sets its mountpoint, and ensures it's mounted at the specified path
---
Item: pve-clu
Old: Updates the Proxmox container list.
New: Updates the Proxmox VE Appliance Manager (pveam) container template list
---
Item: pve-cdo
Old: Downloads a specified container template from a storage location.
New: Downloads a specified container template to a given storage location, with error handling and options to list available templates
---
Item: pve-cuc
Old: updates the occurences of the containertemplate in the config file
New: Updates the container template reference in the Proxmox configuration file, prompting for user confirmation and new template name
---
Item: pve-cbm
Old: Configures a bind mount for a Proxmox container.
New: Configures a bind mount for a specified Proxmox container, linking a host directory to a container directory
---
Item: pve-ctc
Old: create a custom container
New: Creates a custom Proxmox container with specified parameters including network settings, resources, and SSH key
---
Item: pve-cto
Old: start, stop, enable, or disable a range of containers
New: Manages multiple Proxmox containers by starting, stopping, enabling, or disabling them, supporting individual IDs, ranges, or all containers
---
-----------------
2024-09-15 17:06:38 - Replacement process completed.
-----------------
-----------------
Target file: /root/lab/lib/smb.bash
-----------------
Item: smb-fun
Old: show an overview of specific functions
New: Displays an overview of specific Samba-related functions in the script, showing their usage, shortname, and description
---
Item: smb-var
Old: show an overview of specific variables
New: Displays an overview of Samba-specific variables defined in the configuration file, showing their names, values, and usage across different files
---
Item: shr-smb
Old: Unified function to set up Samba
New: Sets up a Samba share by prompting for missing configuration details and applying the configuration. Handles various share parameters including permissions, guest access, and file masks
---
Item: shr-sma
Old: Helper script for samba setup.
New: Applies Samba configuration by creating the shared folder if needed, updating smb.conf with share details, restarting the Samba service, and setting up user passwords. Supports both user-specific and 'nobody' shares
---
-----------------
2024-09-15 17:08:12 - Replacement process completed.
-----------------
