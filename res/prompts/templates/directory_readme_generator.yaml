metadata:
  name: "Directory README Generator"
  description: "Generates comprehensive README.md files for project directories by analyzing files and creating structured documentation"
  version: "1.0.0"
  author: "Lab Assistant"
  category: "Documentation"
  tags: ["documentation", "readme", "analysis", "file-organization"]

parameters:
  required:
    - name: "target_directory"
      type: "string"
      description: "Absolute path to the directory that needs a README.md file"
  optional:
    - name: "include_purpose"
      type: "boolean"
      default: true
      description: "Whether to include a purpose section explaining the directory's role"
    - name: "group_files"
      type: "boolean"
      default: true
      description: "Whether to logically group files by function or category"

prompt:
  system: |
    You are an expert technical documentation specialist. Your task is to create comprehensive, well-structured README.md files for project directories by analyzing the contents and understanding the purpose of each file.

    Analysis approach:
    1. First explore the directory structure using list_dir tool
    2. Read key files to understand their purpose and functionality 
    3. Identify patterns and logical groupings
    4. Create structured documentation that explains each file's role

    Documentation standards:
    - Use clear, descriptive headings with emoji indicators
    - Group files logically by function or purpose
    - Provide concise but informative descriptions (1-2 sentences per file)
    - Highlight key capabilities and important features
    - Use consistent formatting with file names in bold
    - Include an overall purpose statement for the directory
    - End with a summary that captures the directory's value proposition

  user: |
    Please analyze the directory {{target_directory}} and create a comprehensive README.md file that explains what each file does.

    Requirements:
    1. **Explore the directory**: Use the list_dir tool to see all files in {{target_directory}}
    2. **Analyze key files**: Read portions of important files to understand their purpose and functionality
    3. **Logical organization**: Group files by their function or purpose (e.g., Core Modules, Documentation, Tools, etc.)
    4. **Comprehensive descriptions**: For each file, provide a clear paragraph explaining:
       - What the file does
       - Its key features or capabilities  
       - How it fits into the overall system
    5. **Professional formatting**: Use markdown formatting with:
       - Clear section headers with emoji indicators
       - File names in bold
       - Consistent structure and spacing
       - Descriptive but concise language

    Focus on creating documentation that helps users quickly understand:
    - The purpose of the directory
    - What each file contributes
    - How the files work together as a system
    - The overall value and capabilities provided

    Create the README.md file directly in the target directory using the create_file tool.

output:
  format: "markdown"
  validation:
    - rule: "Must create README.md file in target directory"
      message: "README.md file was not created in the specified directory"
    - rule: "Must include file descriptions for all discovered files"
      message: "Not all files in the directory were documented"
    - rule: "Must use logical grouping and clear formatting"
      message: "Files should be organized in logical groups with consistent formatting"

examples:
  - input:
      target_directory: "/home/es/lab/val/lib/integration"
    output: |
      Creates a README.md file with sections like:
      # Library Integration Test Suite
      ## üìÅ File Overview
      ### Core Testing Modules
      **filename.sh** - Description explaining the file's purpose and capabilities
      ### Documentation and Guidance  
      **filename.md** - Description explaining the documentation's scope and usage
      ## üéØ Purpose
      Overall summary of the directory's value and capabilities
